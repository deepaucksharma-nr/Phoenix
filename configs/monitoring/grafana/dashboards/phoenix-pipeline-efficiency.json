{
  "title": "Phoenix v3 - Pipeline Efficiency & Cost",
  "uid": "phoenix-v3-pipeline-efficiency",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": null,
  "links": [],
  "liveNow": false,
  "annotations": {
    "list": [
      {
        "builtIn": 1, "datasource": {"type": "grafana", "uid": "-- Grafana --"}, "enable": true, "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "type": "dashboard"
      }
    ]
  },
  "panels": [
    {
      "title": "Row 1: Ingest Volume & Cardinality Overview", "type": "row", "gridPos": { "h": 1, "w": 24, "x": 0, "y": 0 }
    },
    {
      "title": "Data Points Sent to New Relic by Pipeline (Estimated Daily)",
      "type": "timeseries",
      "datasource": { "type": "prometheus", "uid": "prometheus_phoenix_v3" },
      "targets": [
        {"expr": "sum(increase(phoenix_full_final_output_phoenix_full_output_ts_active{job=\"otelcol-main-telemetry\"}[1m])) * 60 * 24", "legendFormat": "Full Fidelity (Est. Daily Data Points)"},
        {"expr": "sum(increase(phoenix_opt_final_output_phoenix_optimised_output_ts_active{job=\"otelcol-main-opt-output\"}[1m])) * 60 * 24", "legendFormat": "Optimised (Est. Daily Data Points)"},
        {"expr": "sum(increase(phoenix_exp_final_output_phoenix_experimental_output_ts_active{job=\"otelcol-main-exp-output\"}[1m])) * 60 * 24", "legendFormat": "Experimental (Est. Daily Data Points)"}
      ],
      "description": "Estimated daily data points based on active time series counts per minute. Assumes 1 data point per active series per minute for illustration. Actual GiB depends on attributes and value types.",
      "gridPos": { "x": 0, "y": 1, "w": 12, "h": 7 },
      "fieldConfig": {"defaults":{"unit":"datapoints"}}
    },
    {
      "title": "Active Time Series - 7 Day Trend (Optimised Pipeline)",
      "type": "timeseries",
      "datasource": { "type": "prometheus", "uid": "prometheus_phoenix_v3" },
      "targets": [
        {"expr": "avg_over_time(phoenix_opt_final_output_phoenix_optimised_output_ts_active{job=\"otelcol-main-opt-output\"}[1h])", "legendFormat": "Optimised Avg Active TS (1h)"}
      ],
      "timeFrom": "7d",
      "gridPos": { "x": 12, "y": 1, "w": 12, "h": 7 }
    },
    {
      "title": "Row 2: Cost Savings & Control Profile", "type": "row", "gridPos": { "h": 1, "w": 24, "x": 0, "y": 8 }
    },
    {
      "title": "Estimated Cost Savings % (Optimised vs Full)",
      "type": "gauge",
      "datasource": { "type": "prometheus", "uid": "prometheus_phoenix_v3" },
      "targets": [{"expr": "phoenix:cost_reduction_ratio * 100"}],
      "fieldConfig": {"defaults":{"unit":"percent", "min":0, "max":100, "thresholds":{"mode":"absolute", "steps":[{"color":"red","value":null},{"color":"orange","value":50},{"color":"green","value":70}]}}},
      "gridPos": { "x": 0, "y": 9, "w": 8, "h": 6 }
    },
    {
      "title": "Optimization Profile Changes (Timeline)",
      "type": "table",
      "datasource": { "type": "prometheus", "uid": "prometheus_phoenix_v3" },
      "targets": [
        {"expr": "changes(phoenix_control_config_version{job=\"control-loop-actuator-metrics\"}[24h])", "legendFormat": "{{optimisation_profile}}", "format": "table", "instant": true}
      ],
      "options": {"showHeader": true},
      "gridPos": { "x": 8, "y": 9, "w": 16, "h": 6 }
    },
    {
      "title": "Profile Changes Overlay on Optimised TS Count",
      "type": "timeseries",
      "datasource": { "type": "prometheus", "uid": "prometheus_phoenix_v3" },
      "targets": [
        {"expr": "phoenix_opt_final_output_phoenix_optimised_output_ts_active{job=\"otelcol-main-opt-output\"}", "legendFormat": "Optimised TS Count"}
      ],
      "gridPos": { "x": 0, "y": 15, "w": 24, "h": 7 }
    }
  ],
  "refresh": "30s", "schemaVersion": 37, "style": "dark",
  "tags": ["phoenix-v3", "ultimate-stack", "efficiency", "cost-analysis"],
  "templating": { "list": [] }, "time": { "from": "now-6h", "to": "now" }, "timepicker": {},
  "timezone": "browser", "version": 1
}