{
  "id": 1,
  "panels": [
    {
      "id": 1,
      "title": "Pipeline Overview",
      "type": "table",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "phoenix_pipeline_full",
          "instant": true,
          "legendFormat": "Full Pipeline",
          "refId": "A"
        },
        {
          "expr": "phoenix_pipeline_opt_moderate",
          "instant": true,
          "legendFormat": "Optimized Pipeline (Moderate)",
          "refId": "B"
        },
        {
          "expr": "phoenix_pipeline_opt_ultra",
          "instant": true,
          "legendFormat": "Optimized Pipeline (Ultra)",
          "refId": "C"
        },
        {
          "expr": "phoenix_pipeline_exp",
          "instant": true,
          "legendFormat": "Experimental Pipeline",
          "refId": "D"
        },
        {
          "expr": "phoenix_pipeline_hybrid",
          "instant": true,
          "legendFormat": "Hybrid Pipeline",
          "refId": "E"
        }
      ],
      "transformations": [
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": true
            },
            "indexByName": {},
            "renameByName": {
              "Value": "Size",
              "pipeline": "Pipeline"
            }
          }
        }
      ]
    },
    {
      "id": 2,
      "title": "Active Series by Pipeline",
      "type": "timeseries",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "phoenix_ts_count_full",
          "legendFormat": "Full Pipeline",
          "refId": "A"
        },
        {
          "expr": "phoenix_ts_count_opt_moderate * (1 - phoenix_opt_mode) + phoenix_ts_count_opt_ultra * phoenix_opt_mode",
          "legendFormat": "Optimized Pipeline",
          "refId": "B"
        },
        {
          "expr": "phoenix_ts_count_exp",
          "legendFormat": "Experimental Pipeline",
          "refId": "C"
        },
        {
          "expr": "phoenix_ts_count_hybrid",
          "legendFormat": "Hybrid Pipeline",
          "refId": "D"
        },
        {
          "expr": "phoenix_threshold_moderate",
          "legendFormat": "Moderate Threshold",
          "refId": "E"
        },
        {
          "expr": "phoenix_threshold_ultra",
          "legendFormat": "Ultra Threshold",
          "refId": "F"
        }
      ]
    },
    {
      "id": 3,
      "title": "Optimization Mode",
      "type": "stat",
      "datasource": "Prometheus",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "textMode": "auto"
      },
      "targets": [
        {
          "expr": "phoenix_opt_mode",
          "instant": true,
          "legendFormat": "Mode",
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "type": "value",
              "options": {
                "0": {
                  "text": "Moderate",
                  "color": "green"
                },
                "1": {
                  "text": "Ultra",
                  "color": "red"
                }
              }
            }
          ]
        }
      }
    },
    {
      "id": 4,
      "title": "Signal Quality Retention",
      "type": "timeseries",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "phoenix_quality_full",
          "legendFormat": "Full Pipeline",
          "refId": "A"
        },
        {
          "expr": "phoenix_quality_opt_moderate * (1 - phoenix_opt_mode) + phoenix_quality_opt_ultra * phoenix_opt_mode",
          "legendFormat": "Optimized Pipeline",
          "refId": "B"
        },
        {
          "expr": "phoenix_quality_exp",
          "legendFormat": "Experimental Pipeline",
          "refId": "C"
        },
        {
          "expr": "phoenix_quality_hybrid",
          "legendFormat": "Hybrid Pipeline",
          "refId": "D"
        }
      ]
    },
    {
      "id": 5,
      "title": "Cost Reduction by Pipeline",
      "type": "gauge",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "phoenix_cost_reduction_opt_moderate * (1 - phoenix_opt_mode) + phoenix_cost_reduction_opt_ultra * phoenix_opt_mode",
          "legendFormat": "Optimized Pipeline",
          "refId": "A"
        },
        {
          "expr": "phoenix_cost_reduction_exp",
          "legendFormat": "Experimental Pipeline",
          "refId": "B"
        },
        {
          "expr": "phoenix_cost_reduction_hybrid",
          "legendFormat": "Hybrid Pipeline",
          "refId": "C"
        }
      ]
    }
  ]
}
EOF < /dev/null